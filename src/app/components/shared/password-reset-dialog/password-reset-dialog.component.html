<p-dialog [(visible)]="visible" [style]="{width: '450px'}" header="Redefinir Senha" [modal]="true">
    <form [formGroup]="form" (ngSubmit)="onSubmit()" class="grid gap-4">
        <div class="field">
            <label for="newPassword">Nova Senha</label>
            <p-password formControlName="newPassword" [feedback]="true" [toggleMask]="true"
                [class]="{'p-invalid': form.get('newPassword')?.invalid && form.get('newPassword')?.touched}">
            </p-password>
            <small class="p-error block" *ngIf="form.get('newPassword')?.invalid && form.get('newPassword')?.touched">
                Mínimo 6 caracteres
            </small>
        </div>

        <div class="field">
            <label for="confirmPassword">Confirmar Senha</label>
            <p-password formControlName="confirmPassword" [toggleMask]="true"
                [class]="{'p-invalid': (form.get('confirmPassword')?.invalid && form.get('confirmPassword')?.touched) || hasMismatchError()}">
            </p-password>
            <small class="p-error block" *ngIf="hasMismatchError()">
                As senhas não coincidem
            </small>
        </div>

        <div class="flex justify-end gap-2 mt-4">
            <button pButton type="button" label="Cancelar" severity="secondary" (click)="onHide()"></button>
            <button pButton type="submit" label="Redefinir" [disabled]="form.invalid"></button>
        </div>
    </form>
</p-dialog>